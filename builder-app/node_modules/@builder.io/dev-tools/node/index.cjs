"use strict";var ye=Object.create;var A=Object.defineProperty;var Oe=Object.getOwnPropertyDescriptor;var ve=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,we=Object.prototype.hasOwnProperty;var x=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),Me=(t,n)=>{for(var e in n)A(t,e,{get:n[e],enumerable:!0})},U=(t,n,e,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of ve(n))!we.call(t,i)&&i!==e&&A(t,i,{get:()=>n[i],enumerable:!(o=Oe(n,i))||o.enumerable});return t};var v=(t,n,e)=>(e=t!=null?ye(Ae(t)):{},U(n||!t||!t.__esModule?A(e,"default",{value:t,enumerable:!0}):e,t)),Ee=t=>U(A({},"__esModule",{value:!0}),t);var D=x((Ye,R)=>{var Te=require("tty"),$e=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||Te.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),l=(t,n,e=t)=>o=>{let i=""+o,r=i.indexOf(n,t.length);return~r?t+j(i,n,e,r)+n:t+i+n},j=(t,n,e,o)=>{let i=t.substring(0,o)+e,r=t.substring(o+n.length),s=r.indexOf(n);return~s?i+j(r,n,e,s):i+r},N=(t=$e)=>({isColorSupported:t,reset:t?n=>`\x1B[0m${n}\x1B[0m`:String,bold:t?l("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?l("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?l("\x1B[3m","\x1B[23m"):String,underline:t?l("\x1B[4m","\x1B[24m"):String,inverse:t?l("\x1B[7m","\x1B[27m"):String,hidden:t?l("\x1B[8m","\x1B[28m"):String,strikethrough:t?l("\x1B[9m","\x1B[29m"):String,black:t?l("\x1B[30m","\x1B[39m"):String,red:t?l("\x1B[31m","\x1B[39m"):String,green:t?l("\x1B[32m","\x1B[39m"):String,yellow:t?l("\x1B[33m","\x1B[39m"):String,blue:t?l("\x1B[34m","\x1B[39m"):String,magenta:t?l("\x1B[35m","\x1B[39m"):String,cyan:t?l("\x1B[36m","\x1B[39m"):String,white:t?l("\x1B[37m","\x1B[39m"):String,gray:t?l("\x1B[90m","\x1B[39m"):String,bgBlack:t?l("\x1B[40m","\x1B[49m"):String,bgRed:t?l("\x1B[41m","\x1B[49m"):String,bgGreen:t?l("\x1B[42m","\x1B[49m"):String,bgYellow:t?l("\x1B[43m","\x1B[49m"):String,bgBlue:t?l("\x1B[44m","\x1B[49m"):String,bgMagenta:t?l("\x1B[45m","\x1B[49m"):String,bgCyan:t?l("\x1B[46m","\x1B[49m"):String,bgWhite:t?l("\x1B[47m","\x1B[49m"):String});R.exports=N();R.exports.createColors=N});var G=x((Ze,W)=>{"use strict";W.exports=function(n){return n.map(function(e){return e&&typeof e=="object"?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var Y=x((et,X)=>{"use strict";var K="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",Q=new RegExp("^"+K+"$"),H="|&;()<> \\t",Ie='"((\\\\"|[^"])*?)"',Re="'((\\\\'|[^'])*?)'",De=/^#$/,J="'",z='"',_="$",g="",_e=4294967296;for(q=0;q<4;q++)g+=(_e*Math.random()).toString(16);var q,qe=new RegExp("^"+g);function Be(t,n){for(var e=n.lastIndex,o=[],i;i=n.exec(t);)o.push(i),n.lastIndex===i.index&&(n.lastIndex+=1);return n.lastIndex=e,o}function Pe(t,n,e){var o=typeof t=="function"?t(e):t[e];return typeof o>"u"&&e!=""?o="":typeof o>"u"&&(o="$"),typeof o=="object"?n+g+JSON.stringify(o)+g:n+o}function Fe(t,n,e){e||(e={});var o=e.escape||"\\",i="(\\"+o+`['"`+H+`]|[^\\s'"`+H+"])+",r=new RegExp(["("+K+")","("+i+"|"+Ie+"|"+Re+")+"].join("|"),"g"),s=Be(t,r);if(s.length===0)return[];n||(n={});var c=!1;return s.map(function(p){var a=p[0];if(!a||c)return;if(Q.test(a))return{op:a};var y=!1,E=!1,d="",T=!1,u;function k(){u+=1;var h,O,$=a.charAt(u);if($==="{"){if(u+=1,a.charAt(u)==="}")throw new Error("Bad substitution: "+a.slice(u-2,u+1));if(h=a.indexOf("}",u),h<0)throw new Error("Bad substitution: "+a.slice(u));O=a.slice(u,h),u=h}else if(/[*@#?$!_-]/.test($))O=$,u+=1;else{var I=a.slice(u);h=I.match(/[^\w\d_]/),h?(O=I.slice(0,h.index),u+=h.index-1):(O=I,u=a.length)}return Pe(n,"",O)}for(u=0;u<a.length;u++){var m=a.charAt(u);if(T=T||!y&&(m==="*"||m==="?"),E)d+=m,E=!1;else if(y)m===y?y=!1:y==J?d+=m:m===o?(u+=1,m=a.charAt(u),m===z||m===o||m===_?d+=m:d+=o+m):m===_?d+=k():d+=m;else if(m===z||m===J)y=m;else{if(Q.test(m))return{op:a};if(De.test(m)){c=!0;var V={comment:t.slice(p.index+u+1)};return d.length?[d,V]:[V]}else m===o?E=!0:m===_?d+=k():d+=m}}return T?{op:"glob",pattern:d}:d}).reduce(function(p,a){return typeof a>"u"?p:p.concat(a)},[])}X.exports=function(n,e,o){var i=Fe(n,e,o);return typeof e!="function"?i:i.reduce(function(r,s){if(typeof s=="object")return r.concat(s);var c=s.split(RegExp("("+g+".*?"+g+")","g"));return c.length===1?r.concat(c[0]):r.concat(c.filter(Boolean).map(function(p){return qe.test(p)?JSON.parse(p.split(g)[1]):p}))},[])}});var Z=x(B=>{"use strict";B.quote=G();B.parse=Y()});var te=x((rt,ee)=>{ee.exports={"/Applications/Atom.app/Contents/MacOS/Atom":"atom","/Applications/Atom Beta.app/Contents/MacOS/Atom Beta":"/Applications/Atom Beta.app/Contents/MacOS/Atom Beta","/Applications/Brackets.app/Contents/MacOS/Brackets":"brackets","/Applications/Sublime Text.app/Contents/MacOS/Sublime Text":"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl","/Applications/Sublime Text.app/Contents/MacOS/sublime_text":"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl","/Applications/Sublime Text 2.app/Contents/MacOS/Sublime Text 2":"/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl","/Applications/Sublime Text Dev.app/Contents/MacOS/Sublime Text":"/Applications/Sublime Text Dev.app/Contents/SharedSupport/bin/subl","/Applications/Visual Studio Code.app/Contents/MacOS/Electron":"code","/Applications/Visual Studio Code - Insiders.app/Contents/MacOS/Electron":"code-insiders","/Applications/VSCodium.app/Contents/MacOS/Electron":"codium","/Applications/AppCode.app/Contents/MacOS/appcode":"/Applications/AppCode.app/Contents/MacOS/appcode","/Applications/CLion.app/Contents/MacOS/clion":"/Applications/CLion.app/Contents/MacOS/clion","/Applications/IntelliJ IDEA.app/Contents/MacOS/idea":"/Applications/IntelliJ IDEA.app/Contents/MacOS/idea","/Applications/PhpStorm.app/Contents/MacOS/phpstorm":"/Applications/PhpStorm.app/Contents/MacOS/phpstorm","/Applications/PyCharm.app/Contents/MacOS/pycharm":"/Applications/PyCharm.app/Contents/MacOS/pycharm","/Applications/PyCharm CE.app/Contents/MacOS/pycharm":"/Applications/PyCharm CE.app/Contents/MacOS/pycharm","/Applications/RubyMine.app/Contents/MacOS/rubymine":"/Applications/RubyMine.app/Contents/MacOS/rubymine","/Applications/WebStorm.app/Contents/MacOS/webstorm":"/Applications/WebStorm.app/Contents/MacOS/webstorm","/Applications/MacVim.app/Contents/MacOS/MacVim":"mvim","/Applications/GoLand.app/Contents/MacOS/goland":"/Applications/GoLand.app/Contents/MacOS/goland","/Applications/Rider.app/Contents/MacOS/rider":"/Applications/Rider.app/Contents/MacOS/rider"}});var ne=x((nt,re)=>{re.exports={atom:"atom",Brackets:"brackets",code:"code","code-insiders":"code-insiders",codium:"codium",vscodium:"vscodium",emacs:"emacs",gvim:"gvim","idea.sh":"idea","phpstorm.sh":"phpstorm","pycharm.sh":"pycharm","rubymine.sh":"rubymine",sublime_text:"subl",vim:"vim","webstorm.sh":"webstorm","goland.sh":"goland","rider.sh":"rider"}});var se=x((ot,oe)=>{oe.exports=["Brackets.exe","Code.exe","Code - Insiders.exe","VSCodium.exe","atom.exe","sublime_text.exe","notepad++.exe","clion.exe","clion64.exe","idea.exe","idea64.exe","phpstorm.exe","phpstorm64.exe","pycharm.exe","pycharm64.exe","rubymine.exe","rubymine64.exe","webstorm.exe","webstorm64.exe","goland.exe","goland64.exe","rider.exe","rider64.exe"]});var ce=x((st,ae)=>{var Le=require("path"),ke=Z(),P=require("child_process"),w=te(),ie=ne(),Ve=se();ae.exports=function(n){if(n)return ke.parse(n);if(process.env.LAUNCH_EDITOR)return[process.env.LAUNCH_EDITOR];if(process.versions.webcontainer)return[process.env.EDITOR||"code"];try{if(process.platform==="darwin"){let e=P.execSync("ps x -o comm=",{stdio:["pipe","pipe","ignore"]}).toString(),o=Object.keys(w),i=e.split(`
`);for(let r=0;r<o.length;r++){let s=o[r];if(e.indexOf(s)!==-1)return[w[s]];let c=s.replace("/Applications","");if(e.indexOf(c)!==-1){if(s!==w[s])return[w[s]];let p=i.find(a=>a.endsWith(c));if(p!==void 0)return[p]}}}else if(process.platform==="win32"){let o=P.execSync('powershell -NoProfile -Command "Get-CimInstance -Query \\"select executablepath from win32_process where executablepath is not null\\" | % { $_.ExecutablePath }"',{stdio:["pipe","pipe","ignore"]}).toString().split(`\r
`);for(let i=0;i<o.length;i++){let r=o[i].trim(),s=Le.basename(r);if(Ve.indexOf(s)!==-1)return[r]}}else if(process.platform==="linux"){let e=P.execSync("ps x --no-heading -o comm --sort=comm",{stdio:["pipe","pipe","ignore"]}).toString(),o=Object.keys(ie);for(let i=0;i<o.length;i++){let r=o[i];if(e.indexOf(r)!==-1)return[ie[r]]}}}catch{}return process.env.VISUAL?[process.env.VISUAL]:process.env.EDITOR?[process.env.EDITOR]:[null]}});var le=x((it,pe)=>{var Ue=require("path");pe.exports=function(n,e,o,i=1){switch(Ue.basename(n).replace(/\.(exe|cmd|bat)$/i,"")){case"atom":case"Atom":case"Atom Beta":case"subl":case"sublime":case"sublime_text":case"wstorm":case"charm":return[`${e}:${o}:${i}`];case"notepad++":return["-n"+o,"-c"+i,e];case"vim":case"mvim":return[`+call cursor(${o}, ${i})`,e];case"joe":case"gvim":return[`+${o}`,e];case"emacs":case"emacsclient":return[`+${o}:${i}`,e];case"rmate":case"mate":case"mine":return["--line",o,e];case"code":case"Code":case"code-insiders":case"Code - Insiders":case"codium":case"vscodium":case"VSCodium":return["-r","-g",`${e}:${o}:${i}`];case"appcode":case"clion":case"clion64":case"idea":case"idea64":case"phpstorm":case"phpstorm64":case"pycharm":case"pycharm64":case"rubymine":case"rubymine64":case"webstorm":case"webstorm64":case"goland":case"goland64":case"rider":case"rider64":return["--line",o,"--column",i,e]}return process.env.LAUNCH_EDITOR?[e,o,i]:[e]}});var he=x((at,xe)=>{var je=require("fs"),Ne=require("os"),fe=require("path"),me=D(),ue=require("child_process"),We=ce(),Ge=le();function Qe(t){return(n,e)=>{console.log(),console.log(me.red("Could not open "+fe.basename(n)+" in the editor.")),e&&(e[e.length-1]!=="."&&(e+="."),console.log(me.red("The editor process exited with an error: "+e))),console.log(),t&&t(n,e)}}function He(t){switch(t){case"vim":case"emacs":case"nano":return!0}return!1}var de=/:(\d+)(:(\d+))?$/;function Je(t){let n=t.replace(de,""),e=t.match(de),o=e&&e[1],i=e&&e[3];return{fileName:n,lineNumber:o,columnNumber:i}}var b=null;function ze(t,n,e){let o=Je(t),{fileName:i}=o,{lineNumber:r,columnNumber:s}=o;if(!je.existsSync(i))return;typeof n=="function"&&(e=n,n=void 0),e=Qe(e);let[c,...p]=We(n);if(!c){e(i,null);return}if(process.platform==="linux"&&i.startsWith("/mnt/")&&/Microsoft/i.test(Ne.release())&&(i=fe.relative("",i)),r){let a=Ge(c,i,r,s);p.push.apply(p,a)}else p.push(i);b&&He(c)&&b.kill("SIGKILL"),process.platform==="win32"?b=ue.spawn("cmd.exe",["/C",c].concat(p),{stdio:"inherit"}):b=ue.spawn(c,p,{stdio:"inherit"}),b.on("exit",function(a){b=null,a&&e(i,"(code "+a+")")}),b.on("error",function(a){e(i,a.message)})}xe.exports=ze});var Ke={};Me(Ke,{createDevToolsNodeSys:()=>Ce});module.exports=Ee(Ke);var f=require("fs/promises"),Se=require("crypto"),S=require("fs"),M=require("os"),C=v(require("path"),1),F=v(require("prettier"),1),ge=v(require("typescript"),1),L=v(D(),1),be=v(he(),1);async function Ce(t){let n=new Set,e=(...r)=>{if(process.env.DEBUG){let s=new Date,c=`${String(s.getMinutes()).padStart(2,"0")}:${String(s.getSeconds()).padStart(2,"0")}.${String(s.getMilliseconds()).padStart(3,"0")}`;console.debug(L.default.dim(c),L.default.cyan("[builder-dev-tools]"),...r)}},o=async r=>{let s=(0,Se.createHash)("md5");return s.update(r),s.digest("hex")};return{...C.default,getRootDir:t.getRootDir,cwd:()=>process.cwd(),exists:async r=>{try{return await(0,f.access)(r),!0}catch{return!1}},existsSync:S.existsSync,readdir:r=>(0,f.readdir)(r),readdirSync:S.readdirSync,readFile:async r=>{try{return await(0,f.readFile)(r,"utf-8")}catch(s){if(s.code==="ENOENT")return null;throw e(s,r),s}},readFileSync(r){try{return(0,S.readFileSync)(r,"utf-8")}catch(s){if(s.code==="ENOENT")return null;throw e(s,r),s}},stat:r=>(0,f.stat)(r),statSync:r=>(0,S.statSync)(r),writeFile:async(r,s)=>{r=C.default.normalize(r);let c={path:r,basename:C.default.basename(r),dirname:C.default.dirname(r),extname:C.default.extname(r)};await(0,f.mkdir)(C.default.dirname(r),{recursive:!0}),await(0,f.writeFile)(r,s);for(let p of n)await p(c)},hash:o,getDeviceId:()=>o(`${(0,M.hostname)()}:${(0,M.homedir)()}`),formatCode:async(r,s)=>{let c=null;try{c=await F.default.resolveConfig(r)}catch{}return F.default.format(s,{...c,filepath:r})},on:(r,s)=>{r==="change"&&n.add(s)},off:(r,s)=>{r==="change"&&n.delete(s)},debug:e,launchEditor:async r=>{try{let s=r.filePath;typeof r.line=="number"&&(s+=`:${r.line}`,typeof r.column=="number"&&(s+=`:${r.column}`)),(0,be.default)(s,"code",(c,p)=>{console.error(`Failed to launch editor for ${c}`),p&&console.error(p)})}catch(s){console.error(`Failed to launch editor for ${String(s.message||s)}`)}},platform:()=>({runtime:"node",os:process.platform}),ts:ge.default}}0&&(module.exports={createDevToolsNodeSys});
