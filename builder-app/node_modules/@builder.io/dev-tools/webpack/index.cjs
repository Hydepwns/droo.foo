"use strict";var qt=Object.create;var ne=Object.defineProperty;var Et=Object.getOwnPropertyDescriptor;var Nt=Object.getOwnPropertyNames;var jt=Object.getPrototypeOf,xt=Object.prototype.hasOwnProperty;var j=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),It=(n,e)=>{for(var t in e)ne(n,t,{get:e[t],enumerable:!0})},ze=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Nt(e))!xt.call(n,i)&&i!==t&&ne(n,i,{get:()=>e[i],enumerable:!(s=Et(e,i))||s.enumerable});return n};var kt=(n,e,t)=>(t=n!=null?qt(jt(n)):{},ze(e||!n||!n.__esModule?ne(t,"default",{value:n,enumerable:!0}):t,n)),Dt=n=>ze(ne({},"__esModule",{value:!0}),n);var V=j((Gs,Ce)=>{"use strict";var de=class{source(){throw new Error("Abstract")}buffer(){let e=this.source();return Buffer.isBuffer(e)?e:Buffer.from(e,"utf-8")}size(){return this.buffer().length}map(e){return null}sourceAndMap(e){return{source:this.source(),map:this.map(e)}}updateHash(e){throw new Error("Abstract")}};Ce.exports=de});var ie=j((Vs,qe)=>{"use strict";var Lt=`
`.charCodeAt(0),Rt=n=>{if(n===void 0)return{};let e=n.lastIndexOf(`
`);if(e===-1)return{generatedLine:1,generatedColumn:n.length,source:n};let t=2;for(let s=0;s<e;s++)n.charCodeAt(s)===Lt&&t++;return{generatedLine:t,generatedColumn:n.length-e-1,source:n}};qe.exports=Rt});var $=j((Ws,Ee)=>{var Ht=n=>{let e=[],t=n.length,s=0;for(;s<t;)if(n.charCodeAt(s)===10)e.push(`
`),s++;else{let r=s+1;for(;r<t&&n.charCodeAt(r)!==10;)r++;e.push(n.slice(s,r+1)),s=r+1}return e};Ee.exports=Ht});var ue=j((Us,Ne)=>{"use strict";var Pt=ie(),Gt=$(),Vt=(n,e,t,s)=>{let i=1,r=Gt(n),f;for(f of r)e(f,i,0,-1,-1,-1,-1),i++;return r.length===0||f.endsWith(`
`)?{generatedLine:r.length+1,generatedColumn:0}:{generatedLine:r.length,generatedColumn:f.length}};Ne.exports=(n,e,t,s,i)=>i?Pt(n):Vt(n,e,t,s)});var fe=j((Fs,je)=>{"use strict";var Wt=ue(),Ut=V(),pe=class extends Ut{constructor(e,t=!1){super();let s=Buffer.isBuffer(e);if(!s&&typeof e!="string")throw new TypeError("argument 'value' must be either string of Buffer");this._valueIsBuffer=!t&&s,this._value=t&&s?void 0:e,this._valueAsBuffer=s?e:void 0,this._valueAsString=s?void 0:e}isBuffer(){return this._valueIsBuffer}source(){return this._value===void 0&&(this._value=this._valueAsBuffer.toString("utf-8")),this._value}buffer(){return this._valueAsBuffer===void 0&&(this._valueAsBuffer=Buffer.from(this._value,"utf-8")),this._valueAsBuffer}map(e){return null}streamChunks(e,t,s,i){return this._value===void 0&&(this._value=Buffer.from(this._valueAsBuffer,"utf-8")),this._valueAsString===void 0&&(this._valueAsString=typeof this._value=="string"?this._value:this._value.toString("utf-8")),Wt(this._valueAsString,t,s,i,!!(e&&e.finalSource))}updateHash(e){this._valueAsBuffer===void 0&&(this._valueAsBuffer=Buffer.from(this._value,"utf-8")),e.update("RawSource"),e.update(this._valueAsBuffer)}};je.exports=pe});var _e=j((Js,Ie)=>{"use strict";var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xe=32,Ft=n=>n&&n.columns===!1?Xt():Jt(),Jt=()=>{let n=1,e=0,t=0,s=1,i=0,r=0,f=!1,u=!1,d=!0;return(c,a,o,h,S,l)=>{if(f&&n===c){if(o===t&&h===s&&S===i&&!u&&l<0)return""}else if(o<0)return"";let _;n<c?(_=";".repeat(c-n),n=c,e=0,d=!1):d?(_="",d=!1):_=",";let m=g=>{let C=g>>>31&1,O=g>>31,y=(g+O^O)<<1|C;for(;;){let p=y&31;if(y>>=5,y===0){_+=ce[p];break}else _+=ce[p|xe]}};return m(a-e),e=a,o>=0?(f=!0,o===t?_+="A":(m(o-t),t=o),m(h-s),s=h,S===i?_+="A":(m(S-i),i=S),l>=0?(m(l-r),r=l,u=!0):u=!1):f=!1,_}},Xt=()=>{let n=0,e=1,t=0,s=1;return(i,r,f,u,d,c)=>{if(f<0||n===i)return"";let a,o=h=>{let S=h>>>31&1,l=h>>31,m=(h+l^l)<<1|S;for(;;){let g=m&31;if(m>>=5,m===0){a+=ce[g];break}else a+=ce[g|xe]}};return n=i,i===e+1?(e=i,f===t?(t=f,u===s+1?(s=u,";AACA"):(a=";AA",o(u-s),s=u,a+"A")):(a=";A",o(f-t),t=f,o(u-s),s=u,a+"A")):(a=";".repeat(i-e),e=i,f===t?(t=f,u===s+1?(s=u,a+"AACA"):(a+="AA",o(u-s),s=u,a+"A")):(a+="A",o(f-t),t=f,o(u-s),s=u,a+"A"))}};Ie.exports=Ft});var K=j(ge=>{"use strict";var ke=_e();ge.getSourceAndMap=(n,e)=>{let t="",s="",i=[],r=[],f=[],u=ke(e),{source:d}=n.streamChunks(Object.assign({},e,{finalSource:!0}),(c,a,o,h,S,l,_)=>{c!==void 0&&(t+=c),s+=u(a,o,h,S,l,_)},(c,a,o)=>{for(;i.length<c;)i.push(null);if(i[c]=a,o!==void 0){for(;r.length<c;)r.push(null);r[c]=o}},(c,a)=>{for(;f.length<c;)f.push(null);f[c]=a});return{source:d!==void 0?d:t,map:s.length>0?{version:3,file:"x",mappings:s,sources:i,sourcesContent:r.length>0?r:void 0,names:f}:null}};ge.getMap=(n,e)=>{let t="",s=[],i=[],r=[],f=ke(e);return n.streamChunks(Object.assign({},e,{source:!1,finalSource:!0}),(u,d,c,a,o,h,S)=>{t+=f(d,c,a,o,h,S)},(u,d,c)=>{for(;s.length<u;)s.push(null);if(s[u]=d,c!==void 0){for(;i.length<u;)i.push(null);i[u]=c}},(u,d)=>{for(;r.length<u;)r.push(null);r[u]=d}),t.length>0?{version:3,file:"x",mappings:t,sources:s,sourcesContent:i.length>0?i:void 0,names:r}:null}});var Le=j(($s,De)=>{var $t=n=>{let e=n.length;if(e===0)return null;let t=[],s=0;for(;s<e;){let i=s;e:{let r=n.charCodeAt(s);for(;r!==10&&r!==59&&r!==123&&r!==125;){if(++s>=e)break e;r=n.charCodeAt(s)}for(;r===59||r===32||r===123||r===125||r===13||r===9;){if(++s>=e)break e;r=n.charCodeAt(s)}r===10&&s++}t.push(n.slice(i,s))}return t};De.exports=$t});var He=j((Ks,Re)=>{"use strict";var{getMap:Kt,getSourceAndMap:Qt}=K(),Yt=$(),Zt=ie(),es=V(),ts=Le(),Se=class extends es{constructor(e,t){super();let s=Buffer.isBuffer(e);this._value=s?void 0:e,this._valueAsBuffer=s?e:void 0,this._name=t}getName(){return this._name}source(){return this._value===void 0&&(this._value=this._valueAsBuffer.toString("utf-8")),this._value}buffer(){return this._valueAsBuffer===void 0&&(this._valueAsBuffer=Buffer.from(this._value,"utf-8")),this._valueAsBuffer}map(e){return Kt(this,e)}sourceAndMap(e){return Qt(this,e)}streamChunks(e,t,s,i){this._value===void 0&&(this._value=this._valueAsBuffer.toString("utf-8")),s(0,this._name,this._value);let r=!!(e&&e.finalSource);if(!e||e.columns!==!1){let f=ts(this._value),u=1,d=0;if(f!==null)for(let c of f){let a=c.endsWith(`
`);a&&c.length===1?r||t(c,u,d,-1,-1,-1,-1):t(r?void 0:c,u,d,0,u,d,-1),a?(u++,d=0):d+=c.length}return{generatedLine:u,generatedColumn:d,source:r?this._value:void 0}}else if(r){let f=Zt(this._value),{generatedLine:u,generatedColumn:d}=f;if(d===0)for(let c=1;c<u;c++)t(void 0,c,0,0,c,0,-1);else for(let c=1;c<=u;c++)t(void 0,c,0,0,c,0,-1);return f}else{let f=1,u=Yt(this._value),d;for(d of u)t(r?void 0:d,f,0,0,f,0,-1),f++;return u.length===0||d.endsWith(`
`)?{generatedLine:u.length+1,generatedColumn:0,source:r?this._value:void 0}:{generatedLine:u.length,generatedColumn:d.length,source:r?this._value:void 0}}}updateHash(e){this._valueAsBuffer===void 0&&(this._valueAsBuffer=Buffer.from(this._value,"utf-8")),e.update("OriginalSource"),e.update(this._valueAsBuffer),e.update(this._name||"")}};Re.exports=Se});var Ge=j((Qs,Pe)=>{"use strict";var ss=(n,e)=>{if(e<0)return null;let{sourceRoot:t,sources:s}=n,i=s[e];return t?t.endsWith("/")?t+i:t+"/"+i:i};Pe.exports=ss});var Ue=j((Ys,We)=>{"use strict";var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array("z".charCodeAt(0)+1);{Q.fill(66);for(let n=0;n<Ve.length;n++)Q[Ve.charCodeAt(n)]=n;Q[",".charCodeAt(0)]=64,Q[";".charCodeAt(0)]=65}var rs=Q.length-1,ns=(n,e)=>{let t=new Uint32Array([0,0,1,0,0]),s=0,i=0,r=0,f=1,u=-1;for(let d=0;d<n.length;d++){let c=n.charCodeAt(d);if(c>rs)continue;let a=Q[c];if(a&64)t[0]>u&&(s===1?e(f,t[0],-1,-1,-1,-1):s===4?e(f,t[0],t[1],t[2],t[3],-1):s===5&&e(f,t[0],t[1],t[2],t[3],t[4]),u=t[0]),s=0,a===65&&(f++,t[0]=0,u=-1);else if(a&32)i|=(a&31)<<r,r+=5;else{i|=a<<r;let o=i&1?-(i>>1):i>>1;t[s++]+=o,r=0,i=0}}s===1?e(f,t[0],-1,-1,-1,-1):s===4?e(f,t[0],t[1],t[2],t[3],-1):s===5&&e(f,t[0],t[1],t[2],t[3],t[4])};We.exports=ns});var Y=j((Zs,Xe)=>{"use strict";var Fe=ie(),oe=Ge(),le=Ue(),Je=$(),is=(n,e,t,s,i)=>{let r=Je(n);if(r.length===0)return{generatedLine:1,generatedColumn:0};let{sources:f,sourcesContent:u,names:d,mappings:c}=e;for(let p=0;p<f.length;p++)s(p,oe(e,p),u&&u[p]||void 0);if(d)for(let p=0;p<d.length;p++)i(p,d[p]);let a=r[r.length-1],o=a.endsWith(`
`),h=o?r.length+1:r.length,S=o?0:a.length,l=1,_=0,m=!1,g=-1,C=-1,O=-1,M=-1,y=(p,v,E,w,b,T)=>{if(m&&l<=r.length){let A,B=l,N=_,q=r[l-1];p!==l?(A=q.slice(_),l++,_=0):(A=q.slice(_,v),_=v),A&&t(A,B,N,g,C,O,M),m=!1}if(p>l&&_>0){if(l<=r.length){let A=r[l-1].slice(_);t(A,l,_,-1,-1,-1,-1)}l++,_=0}for(;p>l;)l<=r.length&&t(r[l-1],l,0,-1,-1,-1,-1),l++;if(v>_){if(l<=r.length){let A=r[l-1].slice(_,v);t(A,l,_,-1,-1,-1,-1)}_=v}E>=0&&(p<h||p===h&&v<S)&&(m=!0,g=E,C=w,O=b,M=T)};return le(c,y),y(h,S,-1,-1,-1,-1),{generatedLine:h,generatedColumn:S}},us=(n,e,t,s,i)=>{let r=Je(n);if(r.length===0)return{generatedLine:1,generatedColumn:0};let{sources:f,sourcesContent:u,mappings:d}=e;for(let _=0;_<f.length;_++)s(_,oe(e,_),u&&u[_]||void 0);let c=1;for(le(d,(_,m,g,C,O,M)=>{if(!(g<0||_<c||_>r.length)){for(;_>c;)c<=r.length&&t(r[c-1],c,0,-1,-1,-1,-1),c++;_<=r.length&&(t(r[_-1],_,0,g,C,O,-1),c++)}});c<=r.length;c++)t(r[c-1],c,0,-1,-1,-1,-1);let o=r[r.length-1],h=o.endsWith(`
`),S=h?r.length+1:r.length,l=h?0:o.length;return{generatedLine:S,generatedColumn:l}},fs=(n,e,t,s,i)=>{let r=Fe(n),{generatedLine:f,generatedColumn:u}=r;if(f===1&&u===0)return r;let{sources:d,sourcesContent:c,names:a,mappings:o}=e;for(let l=0;l<d.length;l++)s(l,oe(e,l),c&&c[l]||void 0);if(a)for(let l=0;l<a.length;l++)i(l,a[l]);let h=0;return le(o,(l,_,m,g,C,O)=>{l>=f&&(_>=u||l>f)||(m>=0?(t(void 0,l,_,m,g,C,O),h=l):h===l&&(t(void 0,l,_,-1,-1,-1,-1),h=0))}),r},cs=(n,e,t,s,i)=>{let r=Fe(n),{generatedLine:f,generatedColumn:u}=r;if(f===1&&u===0)return{generatedLine:1,generatedColumn:0};let{sources:d,sourcesContent:c,mappings:a}=e;for(let l=0;l<d.length;l++)s(l,oe(e,l),c&&c[l]||void 0);let o=u===0?f-1:f,h=1;return le(a,(l,_,m,g,C,O)=>{m>=0&&h<=l&&l<=o&&(t(void 0,l,0,m,g,C,-1),h=l+1)}),r};Xe.exports=(n,e,t,s,i,r,f)=>f?r?fs(n,e,t,s,i):is(n,e,t,s,i):r?cs(n,e,t,s,i):us(n,e,t,s,i)});var Ye=j((er,Qe)=>{"use strict";var $e=Y(),Ke=$(),os=(n,e,t,s,i,r,f,u,d,c,a)=>{let o=new Map,h=new Map,S=[],l=[],_=[],m=-2,g=[],C=[],O=[],M=[],y=[],p=[],v=[],E=(w,b)=>{if(w>v.length)return-1;let{mappingsData:T}=v[w-1],A=0,B=T.length/5;for(;A<B;){let N=A+B>>1;T[N*5]<=b?A=N+1:B=N}return A===0?-1:A-1};return $e(n,e,(w,b,T,A,B,N,q)=>{if(A===m){let L=E(B,N);if(L!==-1){let{chunks:R,mappingsData:k}=v[B-1],H=L*5,z=k[H+1],I=k[H+2],J=k[H+3],U=k[H+4];if(z>=0){let zt=R[L],Ct=k[H],ee=N-Ct;if(ee>0){let x=z<M.length?M[z]:null;if(x===void 0){let D=O[z];x=D?Ke(D):null,M[z]=x}if(x!==null){let D=I<=x.length?x[I-1].slice(J,J+ee):"";zt.slice(0,ee)===D&&(J+=ee,U=-1)}}let te=z<g.length?g[z]:-2;if(te===-2){let[x,D]=z<C.length?C[z]:[null,void 0],X=o.get(x);X===void 0&&(o.set(x,X=o.size),u(X,x,D)),te=X,g[z]=te}let G=-1;if(U>=0){if(G=U<y.length?y[U]:-2,G===-2){let x=U<p.length?p[U]:void 0;if(x){let D=h.get(x);D===void 0&&(h.set(x,D=h.size),d(D,x)),G=D}else G=-1;y[U]=G}}else if(q>=0){let x=M[z];if(x===void 0){let D=O[z];x=D?Ke(D):null,M[z]=x}if(x!==null){let D=_[q],X=I<=x.length?x[I-1].slice(J,J+D.length):"";if(D===X&&(G=q<l.length?l[q]:-2,G===-2)){let se=_[q];if(se){let re=h.get(se);re===void 0&&(h.set(se,re=h.size),d(re,se)),G=re}else G=-1;l[q]=G}}}f(w,b,T,te,I,J,G);return}}if(r){f(w,b,T,-1,-1,-1,-1);return}else if(S[A]===-2){let R=o.get(t);R===void 0&&(o.set(n,R=o.size),u(R,t,s)),S[A]=R}}let P=A<0||A>=S.length?-1:S[A];if(P<0)f(w,b,T,-1,-1,-1,-1);else{let L=-1;if(q>=0&&q<l.length&&(L=l[q],L===-2)){let R=_[q],k=h.get(R);k===void 0&&(h.set(R,k=h.size),d(k,R)),L=k,l[q]=L}f(w,b,T,P,B,N,L)}},(w,b,T)=>{if(b===t)m=w,s!==void 0?T=s:s=T,S[w]=-2,$e(T,i,(A,B,N,q,P,L,R)=>{for(;v.length<B;)v.push({mappingsData:[],chunks:[]});let k=v[B-1];k.mappingsData.push(N,q,P,L,R),k.chunks.push(A)},(A,B,N)=>{O[A]=N,M[A]=void 0,g[A]=-2,C[A]=[B,N]},(A,B)=>{y[A]=-2,p[A]=B},!1,a);else{let A=o.get(b);A===void 0&&(o.set(b,A=o.size),u(A,b,T)),S[w]=A}},(w,b)=>{l[w]=-2,_[w]=b},c,a)};Qe.exports=os});var et=j((tr,Ze)=>{"use strict";var ls=V(),as=Y(),hs=Ye(),{getMap:ds,getSourceAndMap:ps}=K(),me=class extends ls{constructor(e,t,s,i,r,f){super();let u=Buffer.isBuffer(e);this._valueAsString=u?void 0:e,this._valueAsBuffer=u?e:void 0,this._name=t,this._hasSourceMap=!!s;let d=Buffer.isBuffer(s),c=typeof s=="string";this._sourceMapAsObject=d||c?void 0:s,this._sourceMapAsString=c?s:void 0,this._sourceMapAsBuffer=d?s:void 0,this._hasOriginalSource=!!i;let a=Buffer.isBuffer(i);this._originalSourceAsString=a?void 0:i,this._originalSourceAsBuffer=a?i:void 0,this._hasInnerSourceMap=!!r;let o=Buffer.isBuffer(r),h=typeof r=="string";this._innerSourceMapAsObject=o||h?void 0:r,this._innerSourceMapAsString=h?r:void 0,this._innerSourceMapAsBuffer=o?r:void 0,this._removeOriginalSource=f}_ensureValueBuffer(){this._valueAsBuffer===void 0&&(this._valueAsBuffer=Buffer.from(this._valueAsString,"utf-8"))}_ensureValueString(){this._valueAsString===void 0&&(this._valueAsString=this._valueAsBuffer.toString("utf-8"))}_ensureOriginalSourceBuffer(){this._originalSourceAsBuffer===void 0&&this._hasOriginalSource&&(this._originalSourceAsBuffer=Buffer.from(this._originalSourceAsString,"utf-8"))}_ensureOriginalSourceString(){this._originalSourceAsString===void 0&&this._hasOriginalSource&&(this._originalSourceAsString=this._originalSourceAsBuffer.toString("utf-8"))}_ensureInnerSourceMapObject(){this._innerSourceMapAsObject===void 0&&this._hasInnerSourceMap&&(this._ensureInnerSourceMapString(),this._innerSourceMapAsObject=JSON.parse(this._innerSourceMapAsString))}_ensureInnerSourceMapBuffer(){this._innerSourceMapAsBuffer===void 0&&this._hasInnerSourceMap&&(this._ensureInnerSourceMapString(),this._innerSourceMapAsBuffer=Buffer.from(this._innerSourceMapAsString,"utf-8"))}_ensureInnerSourceMapString(){this._innerSourceMapAsString===void 0&&this._hasInnerSourceMap&&(this._innerSourceMapAsBuffer!==void 0?this._innerSourceMapAsString=this._innerSourceMapAsBuffer.toString("utf-8"):this._innerSourceMapAsString=JSON.stringify(this._innerSourceMapAsObject))}_ensureSourceMapObject(){this._sourceMapAsObject===void 0&&(this._ensureSourceMapString(),this._sourceMapAsObject=JSON.parse(this._sourceMapAsString))}_ensureSourceMapBuffer(){this._sourceMapAsBuffer===void 0&&(this._ensureSourceMapString(),this._sourceMapAsBuffer=Buffer.from(this._sourceMapAsString,"utf-8"))}_ensureSourceMapString(){this._sourceMapAsString===void 0&&(this._sourceMapAsBuffer!==void 0?this._sourceMapAsString=this._sourceMapAsBuffer.toString("utf-8"):this._sourceMapAsString=JSON.stringify(this._sourceMapAsObject))}getArgsAsBuffers(){return this._ensureValueBuffer(),this._ensureSourceMapBuffer(),this._ensureOriginalSourceBuffer(),this._ensureInnerSourceMapBuffer(),[this._valueAsBuffer,this._name,this._sourceMapAsBuffer,this._originalSourceAsBuffer,this._innerSourceMapAsBuffer,this._removeOriginalSource]}buffer(){return this._ensureValueBuffer(),this._valueAsBuffer}source(){return this._ensureValueString(),this._valueAsString}map(e){return this._hasInnerSourceMap?ds(this,e):(this._ensureSourceMapObject(),this._sourceMapAsObject)}sourceAndMap(e){return this._hasInnerSourceMap?ps(this,e):(this._ensureValueString(),this._ensureSourceMapObject(),{source:this._valueAsString,map:this._sourceMapAsObject})}streamChunks(e,t,s,i){return this._ensureValueString(),this._ensureSourceMapObject(),this._ensureOriginalSourceString(),this._hasInnerSourceMap?(this._ensureInnerSourceMapObject(),hs(this._valueAsString,this._sourceMapAsObject,this._name,this._originalSourceAsString,this._innerSourceMapAsObject,this._removeOriginalSource,t,s,i,!!(e&&e.finalSource),!!(e&&e.columns!==!1))):as(this._valueAsString,this._sourceMapAsObject,t,s,i,!!(e&&e.finalSource),!!(e&&e.columns!==!1))}updateHash(e){this._ensureValueBuffer(),this._ensureSourceMapBuffer(),this._ensureOriginalSourceBuffer(),this._ensureInnerSourceMapBuffer(),e.update("SourceMapSource"),e.update(this._valueAsBuffer),e.update(this._sourceMapAsBuffer),this._hasOriginalSource&&e.update(this._originalSourceAsBuffer),this._hasInnerSourceMap&&e.update(this._innerSourceMapAsBuffer),e.update(this._removeOriginalSource?"true":"false")}};Ze.exports=me});var Z=j((sr,tt)=>{"use strict";var _s=ue(),gs=Y();tt.exports=(n,e,t,s,i)=>{if(typeof n.streamChunks=="function")return n.streamChunks(e,t,s,i);{let r=n.sourceAndMap(e);return r.map?gs(r.source,r.map,t,s,i,!!(e&&e.finalSource),!!(e&&e.columns!==!1)):_s(r.source,t,s,i,!!(e&&e.finalSource))}}});var rt=j((rr,st)=>{"use strict";var Ss=_e(),ms=Z(),As=(n,e,t,s,i)=>{let r="",f="",u=[],d=[],c=[],a=Ss(Object.assign({},e,{columns:!0})),o=!!(e&&e.finalSource),{generatedLine:h,generatedColumn:S,source:l}=ms(n,e,(m,g,C,O,M,y,p)=>(m!==void 0&&(r+=m),f+=a(g,C,O,M,y,p),t(o?void 0:m,g,C,O,M,y,p)),(m,g,C)=>{for(;u.length<m;)u.push(null);if(u[m]=g,C!==void 0){for(;d.length<m;)d.push(null);d[m]=C}return s(m,g,C)},(m,g)=>{for(;c.length<m;)c.push(null);return c[m]=g,i(m,g)}),_=l!==void 0?l:r;return{result:{generatedLine:h,generatedColumn:S,source:o?_:void 0},source:_,map:f.length>0?{version:3,file:"x",mappings:f,sources:u,sourcesContent:d.length>0?d:void 0,names:c}:null}};st.exports=As});var it=j((nr,nt)=>{"use strict";var Ms=V(),Bs=Y(),vs=ue(),bs=rt(),Os=n=>{if(typeof n!="object"||!n)return n;let e=Object.assign({},n);return n.mappings&&(e.mappings=Buffer.from(n.mappings,"utf-8")),n.sourcesContent&&(e.sourcesContent=n.sourcesContent.map(t=>t&&Buffer.from(t,"utf-8"))),e},ys=n=>{if(typeof n!="object"||!n)return n;let e=Object.assign({},n);return n.mappings&&(e.mappings=n.mappings.toString("utf-8")),n.sourcesContent&&(e.sourcesContent=n.sourcesContent.map(t=>t&&t.toString("utf-8"))),e},Ae=class extends Ms{constructor(e,t){super(),this._source=e,this._cachedSourceType=t?t.source:void 0,this._cachedSource=void 0,this._cachedBuffer=t?t.buffer:void 0,this._cachedSize=t?t.size:void 0,this._cachedMaps=t?t.maps:new Map,this._cachedHashUpdate=t?t.hash:void 0}getCachedData(){let e=new Map;for(let t of this._cachedMaps){let s=t[1];s.bufferedMap===void 0&&(s.bufferedMap=Os(this._getMapFromCacheEntry(s))),e.set(t[0],{map:void 0,bufferedMap:s.bufferedMap})}return this._cachedSource&&this.buffer(),{buffer:this._cachedBuffer,source:this._cachedSourceType!==void 0?this._cachedSourceType:typeof this._cachedSource=="string"?!0:Buffer.isBuffer(this._cachedSource)?!1:void 0,size:this._cachedSize,maps:e,hash:this._cachedHashUpdate}}originalLazy(){return this._source}original(){return typeof this._source=="function"&&(this._source=this._source()),this._source}source(){let e=this._getCachedSource();return e!==void 0?e:this._cachedSource=this.original().source()}_getMapFromCacheEntry(e){if(e.map!==void 0)return e.map;if(e.bufferedMap!==void 0)return e.map=ys(e.bufferedMap)}_getCachedSource(){if(this._cachedSource!==void 0)return this._cachedSource;if(this._cachedBuffer&&this._cachedSourceType!==void 0)return this._cachedSource=this._cachedSourceType?this._cachedBuffer.toString("utf-8"):this._cachedBuffer}buffer(){if(this._cachedBuffer!==void 0)return this._cachedBuffer;if(this._cachedSource!==void 0)return Buffer.isBuffer(this._cachedSource)?this._cachedBuffer=this._cachedSource:this._cachedBuffer=Buffer.from(this._cachedSource,"utf-8");if(typeof this.original().buffer=="function")return this._cachedBuffer=this.original().buffer();let e=this.source();return Buffer.isBuffer(e)?this._cachedBuffer=e:this._cachedBuffer=Buffer.from(e,"utf-8")}size(){if(this._cachedSize!==void 0)return this._cachedSize;if(this._cachedBuffer!==void 0)return this._cachedSize=this._cachedBuffer.length;let e=this._getCachedSource();return e!==void 0?this._cachedSize=Buffer.byteLength(e):this._cachedSize=this.original().size()}sourceAndMap(e){let t=e?JSON.stringify(e):"{}",s=this._cachedMaps.get(t);if(s!==void 0){let f=this._getMapFromCacheEntry(s);return{source:this.source(),map:f}}let i=this._getCachedSource(),r;if(i!==void 0)r=this.original().map(e);else{let f=this.original().sourceAndMap(e);i=f.source,r=f.map,this._cachedSource=i}return this._cachedMaps.set(t,{map:r,bufferedMap:void 0}),{source:i,map:r}}streamChunks(e,t,s,i){let r=e?JSON.stringify(e):"{}";if(this._cachedMaps.has(r)&&(this._cachedBuffer!==void 0||this._cachedSource!==void 0)){let{source:c,map:a}=this.sourceAndMap(e);return a?Bs(c,a,t,s,i,!!(e&&e.finalSource),!0):vs(c,t,s,i,!!(e&&e.finalSource))}let{result:f,source:u,map:d}=bs(this.original(),e,t,s,i);return this._cachedSource=u,this._cachedMaps.set(r,{map:d,bufferedMap:void 0}),f}map(e){let t=e?JSON.stringify(e):"{}",s=this._cachedMaps.get(t);if(s!==void 0)return this._getMapFromCacheEntry(s);let i=this.original().map(e);return this._cachedMaps.set(t,{map:i,bufferedMap:void 0}),i}updateHash(e){if(this._cachedHashUpdate!==void 0){for(let r of this._cachedHashUpdate)e.update(r);return}let t=[],s,i={update:r=>{typeof r=="string"&&r.length<10240?s===void 0?s=r:(s+=r,s.length>102400&&(t.push(Buffer.from(s)),s=void 0)):(s!==void 0&&(t.push(Buffer.from(s)),s=void 0),t.push(r))}};this.original().updateHash(i),s!==void 0&&t.push(Buffer.from(s));for(let r of t)e.update(r);this._cachedHashUpdate=t}};nt.exports=Ae});var ct=j((ir,ft)=>{"use strict";var ws=V(),ut=fe(),Ts=Z(),{getMap:zs,getSourceAndMap:Cs}=K(),Me=new WeakSet,Be=class n extends ws{constructor(){super(),this._children=[];for(let e=0;e<arguments.length;e++){let t=arguments[e];if(t instanceof n)for(let s of t._children)this._children.push(s);else this._children.push(t)}this._isOptimized=arguments.length===0}getChildren(){return this._isOptimized||this._optimize(),this._children}add(e){if(e instanceof n)for(let t of e._children)this._children.push(t);else this._children.push(e);this._isOptimized=!1}addAllSkipOptimizing(e){for(let t of e)this._children.push(t)}buffer(){this._isOptimized||this._optimize();let e=[];for(let t of this._children)if(typeof t.buffer=="function")e.push(t.buffer());else{let s=t.source();Buffer.isBuffer(s)?e.push(s):e.push(Buffer.from(s,"utf-8"))}return Buffer.concat(e)}source(){this._isOptimized||this._optimize();let e="";for(let t of this._children)e+=t.source();return e}size(){this._isOptimized||this._optimize();let e=0;for(let t of this._children)e+=t.size();return e}map(e){return zs(this,e)}sourceAndMap(e){return Cs(this,e)}streamChunks(e,t,s,i){if(this._isOptimized||this._optimize(),this._children.length===1)return this._children[0].streamChunks(e,t,s,i);let r=0,f=0,u=new Map,d=new Map,c=!!(e&&e.finalSource),a="",o=!1;for(let h of this._children){let S=[],l=[],_=0,{generatedLine:m,generatedColumn:g,source:C}=Ts(h,e,(O,M,y,p,v,E,w)=>{let b=M+r,T=M===1?y+f:y;o&&((M!==1||y!==0)&&t(void 0,r+1,f,-1,-1,-1,-1),o=!1);let A=p<0||p>=S.length?-1:S[p],B=w<0||w>=l.length?-1:l[w];_=A<0?0:M,c?(O!==void 0&&(a+=O),A>=0&&t(void 0,b,T,A,v,E,B)):A<0?t(O,b,T,-1,-1,-1,-1):t(O,b,T,A,v,E,B)},(O,M,y)=>{let p=u.get(M);p===void 0&&(u.set(M,p=u.size),s(p,M,y)),S[O]=p},(O,M)=>{let y=d.get(M);y===void 0&&(d.set(M,y=d.size),i(y,M)),l[O]=y});C!==void 0&&(a+=C),o&&(m!==1||g!==0)&&(t(void 0,r+1,f,-1,-1,-1,-1),o=!1),m>1?f=g:f+=g,o=o||c&&_===m,r+=m-1}return{generatedLine:r+1,generatedColumn:f,source:c?a:void 0}}updateHash(e){this._isOptimized||this._optimize(),e.update("ConcatSource");for(let t of this._children)t.updateHash(e)}_optimize(){let e=[],t,s,i=u=>{s===void 0?s=u:Array.isArray(s)?s.push(u):s=[typeof s=="string"?s:s.source(),u]},r=u=>{s===void 0?s=u:Array.isArray(s)?s.push(u.source()):s=[typeof s=="string"?s:s.source(),u.source()]},f=()=>{if(Array.isArray(s)){let u=new ut(s.join(""));Me.add(u),e.push(u)}else if(typeof s=="string"){let u=new ut(s);Me.add(u),e.push(u)}else e.push(s)};for(let u of this._children)typeof u=="string"?t===void 0?t=u:t+=u:(t!==void 0&&(i(t),t=void 0),Me.has(u)?r(u):(s!==void 0&&(f(),s=void 0),e.push(u)));t!==void 0&&i(t),s!==void 0&&f(),this._children=e,this._isOptimized=!0}};ft.exports=Be});var ht=j((ur,at)=>{"use strict";var{getMap:qs,getSourceAndMap:Es}=K(),Ns=Z(),js=V(),ve=$(),lt=typeof process=="object"&&process.versions&&typeof process.versions.v8=="string"&&!/^[0-6]\./.test(process.versions.v8),ot=536870912,ae=class{constructor(e,t,s,i){this.start=e,this.end=t,this.content=s,this.name=i,lt||(this.index=-1)}},be=class extends js{constructor(e,t){super(),this._source=e,this._name=t,this._replacements=[],this._isSorted=!0}getName(){return this._name}getReplacements(){return this._sortReplacements(),this._replacements}replace(e,t,s,i){if(typeof s!="string")throw new Error("insertion must be a string, but is a "+typeof s);this._replacements.push(new ae(e,t,s,i)),this._isSorted=!1}insert(e,t,s){if(typeof t!="string")throw new Error("insertion must be a string, but is a "+typeof t+": "+t);this._replacements.push(new ae(e,e-1,t,s)),this._isSorted=!1}source(){if(this._replacements.length===0)return this._source.source();let e=this._source.source(),t=0,s=[];this._sortReplacements();for(let i of this._replacements){let r=Math.floor(i.start),f=Math.floor(i.end+1);if(t<r){let u=r-t;s.push(e.slice(0,u)),e=e.slice(u),t=r}if(s.push(i.content),t<f){let u=f-t;e=e.slice(u),t=f}}return s.push(e),s.join("")}map(e){return this._replacements.length===0?this._source.map(e):qs(this,e)}sourceAndMap(e){return this._replacements.length===0?this._source.sourceAndMap(e):Es(this,e)}original(){return this._source}_sortReplacements(){this._isSorted||(lt?this._replacements.sort(function(e,t){let s=e.start-t.start;if(s!==0)return s;let i=e.end-t.end;return i!==0?i:0}):(this._replacements.forEach((e,t)=>e.index=t),this._replacements.sort(function(e,t){let s=e.start-t.start;if(s!==0)return s;let i=e.end-t.end;return i!==0?i:e.index-t.index})),this._isSorted=!0)}streamChunks(e,t,s,i){this._sortReplacements();let r=this._replacements,f=0,u=0,d=-1,c=u<r.length?Math.floor(r[u].start):ot,a=0,o=0,h=0,S=[],l=new Map,_=[],m=(p,v,E,w)=>{let b=p<S.length?S[p]:void 0;if(b===void 0)return!1;typeof b=="string"&&(b=ve(b),S[p]=b);let T=v<=b.length?b[v-1]:null;return T===null?!1:T.slice(E,E+w.length)===w},{generatedLine:g,generatedColumn:C}=Ns(this._source,Object.assign({},e,{finalSource:!1}),(p,v,E,w,b,T,A)=>{let B=0,N=f+p.length;if(d>f){if(d>=N){let P=v+a;p.endsWith(`
`)?(a--,h===P&&(o+=E)):h===P?o-=p.length:(o=-p.length,h=P),f=N;return}B=d-f,m(w,b,T,p.slice(0,B))&&(T+=B),f+=B;let q=v+a;h===q?o-=B:(o=-B,h=q),E+=B}if(c<N)do{let q=v+a;if(c>f){let z=c-f,I=p.slice(B,B+z);t(I,q,E+(q===h?o:0),w,b,T,A<0||A>=_.length?-1:_[A]),E+=z,B+=z,f=c,m(w,b,T,I)&&(T+=I.length)}let{content:P,name:L}=r[u],R=ve(P),k=A;if(w>=0&&L){let z=l.get(L);z===void 0&&(z=l.size,l.set(L,z),i(z,L)),k=z}for(let z=0;z<R.length;z++){let I=R[z];t(I,q,E+(q===h?o:0),w,b,T,k),k=-1,z===R.length-1&&!I.endsWith(`
`)?h===q?o+=I.length:(o=I.length,h=q):(a++,q++,o=-E,h=q)}d=Math.max(d,Math.floor(r[u].end+1)),u++,c=u<r.length?Math.floor(r[u].start):ot;let H=p.length-N+d-B;if(H>0){if(d>=N){let I=v+a;p.endsWith(`
`)?(a--,h===I&&(o+=E)):h===I?o-=p.length-B:(o=B-p.length,h=I),f=N;return}let z=v+a;m(w,b,T,p.slice(B,B+H))&&(T+=H),B+=H,f+=H,h===z?o-=H:(o=-H,h=z),E+=H}}while(c<N);if(B<p.length){let q=B===0?p:p.slice(B),P=v+a;t(q,P,E+(P===h?o:0),w,b,T,A<0?-1:_[A])}f=N},(p,v,E)=>{for(;S.length<p;)S.push(void 0);S[p]=E,s(p,v,E)},(p,v)=>{let E=l.get(v);E===void 0&&(E=l.size,l.set(v,E),i(E,v)),_[p]=E}),O="";for(;u<r.length;u++)O+=r[u].content;let M=g+a,y=ve(O);for(let p=0;p<y.length;p++){let v=y[p];t(v,M,C+(M===h?o:0),-1,-1,-1,-1),p===y.length-1&&!v.endsWith(`
`)?h===M?o+=v.length:(o=v.length,h=M):(a++,M++,o=-C,h=M)}return{generatedLine:M,generatedColumn:C+(M===h?o:0)}}updateHash(e){this._sortReplacements(),e.update("ReplaceSource"),this._source.updateHash(e),e.update(this._name||"");for(let t of this._replacements)e.update(`${t.start}${t.end}${t.content}${t.name}`)}};at.exports=be});var _t=j((fr,pt)=>{"use strict";var xs=V(),Is=fe(),ks=Z(),{getMap:Ds,getSourceAndMap:Ls}=K(),dt=/\n(?=.|\s)/g,Oe=class extends xs{constructor(e,t){super(),this._source=typeof t=="string"||Buffer.isBuffer(t)?new Is(t,!0):t,this._prefix=e}getPrefix(){return this._prefix}original(){return this._source}source(){let e=this._source.source(),t=this._prefix;return t+e.replace(dt,`
`+t)}map(e){return Ds(this,e)}sourceAndMap(e){return Ls(this,e)}streamChunks(e,t,s,i){let r=this._prefix,f=r.length,u=!!(e&&e.columns===!1),{generatedLine:d,generatedColumn:c,source:a}=ks(this._source,e,(o,h,S,l,_,m,g)=>{S!==0?S+=f:o!==void 0?u||l<0?o=r+o:f>0&&(t(r,h,S,-1,-1,-1,-1),S+=f):u||(S+=f),t(o,h,S,l,_,m,g)},s,i);return{generatedLine:d,generatedColumn:c===0?0:f+c,source:a!==void 0?r+a.replace(dt,`
`+r):void 0}}updateHash(e){e.update("PrefixSource"),this._source.updateHash(e),e.update(this._prefix)}};pt.exports=Oe});var St=j((cr,gt)=>{"use strict";var Rs=V(),ye=class extends Rs{constructor(e){super(),this._size=e}_error(){return new Error("Content and Map of this Source is not available (only size() is supported)")}size(){return this._size}source(){throw this._error()}buffer(){throw this._error()}map(e){throw this._error()}updateHash(){throw this._error()}};gt.exports=ye});var Mt=j((or,At)=>{"use strict";var mt=V(),we=class n extends mt{static from(e){return e instanceof mt?e:new n(e)}constructor(e){super(),this._sourceLike=e}source(){return this._sourceLike.source()}buffer(){return typeof this._sourceLike.buffer=="function"?this._sourceLike.buffer():super.buffer()}size(){return typeof this._sourceLike.size=="function"?this._sourceLike.size():super.size()}map(e){return typeof this._sourceLike.map=="function"?this._sourceLike.map(e):super.map(e)}sourceAndMap(e){return typeof this._sourceLike.sourceAndMap=="function"?this._sourceLike.sourceAndMap(e):super.sourceAndMap(e)}updateHash(e){if(typeof this._sourceLike.updateHash=="function")return this._sourceLike.updateHash(e);if(typeof this._sourceLike.map=="function")throw new Error("A Source-like object with a 'map' method must also provide an 'updateHash' method");e.update(this.buffer())}};At.exports=we});var vt=j(Bt=>{var W=(n,e)=>{let t;Object.defineProperty(Bt,n,{get:()=>(e!==void 0&&(t=e(),e=void 0),t),configurable:!0})};W("Source",()=>V());W("RawSource",()=>fe());W("OriginalSource",()=>He());W("SourceMapSource",()=>et());W("CachedSource",()=>it());W("ConcatSource",()=>ct());W("ReplaceSource",()=>ht());W("PrefixSource",()=>_t());W("SizeOnlySource",()=>St());W("CompatSource",()=>Mt())});var Hs={};It(Hs,{BuilderDevToolsPlugin:()=>Te});module.exports=Dt(Hs);var Ot=kt(vt(),1),he=require("path"),F=require("fs"),yt=require("../core/index.cjs"),wt=require("../node/index.cjs"),Tt=require("../server/index.cjs"),bt="BuilderDevToolsPlugin",Te=class{constructor(e){this.opts=e||{}}apply(e){if(this.opts.enabled==null&&(this.opts.enabled=process.env.NODE_ENV!=="production"),this.opts.enabled===!1)return;let t=e,s=t.webpack.Compilation.PROCESS_ASSETS_STAGE_ADDITIONS,i=new WeakMap,r=null,f=null,u=null,d=async()=>(r||(r=await(0,wt.createDevToolsNodeSys)({getRootDir:()=>t.context})),f||(f=await(0,yt.createDevTools)(r)),u||(u=await(0,Tt.createDevToolsServer)({...f,getClientId:()=>"webpack-builder-dev-tools",closeAppServer:async()=>{},restartAppServer:async()=>{r.debug("restart server");let c=["next.config.js","next.config.ts","webpack.config.js","webpack.config.ts"].map(a=>(0,he.join)(t.context,a));for(let a of c)if((0,F.existsSync)(a)){let o=(0,F.readFileSync)(a,"utf-8"),h=o+`
// trigger rebuild ${Date.now()}`;(0,F.writeFileSync)(a,h),(0,F.writeFileSync)(a,o),await new Promise(S=>setTimeout(S,50));return}},enableAppWatch:async c=>c,...r,...this.opts})),u);t.hooks.compilation.tap(bt,c=>{c.hooks.processAssets.tapAsync({name:bt,stage:s},async(a,o)=>{for(let h of c.chunks)for(let S of h.files){if((0,he.basename)(S)!=="webpack.js")continue;let _=await d(),m=new URL("/~builder-dev-tools.js",_.getUrl()),g=`
;
/* Builder Devtools (Webpack) */
`;g+=`(() => {
`,g+=`  if (typeof document !== "undefined") {
`,g+=`    let devToolsScript = document.head.querySelector("script[data-builder-dev-tools]");
`,g+=`    if (!devToolsScript) {
`,g+=`      devToolsScript = document.createElement("script");
`,g+=`      devToolsScript.setAttribute("src", ${JSON.stringify(m)});
`,g+=`      devToolsScript.setAttribute("data-builder-dev-tools", "");
`,g+=`      devToolsScript.setAttribute("async", "");
`,g+=`      document.head.appendChild(devToolsScript);
`,g+=`    }
`,g+=`  }
`,g+=`})();
`;let C={chunk:h,filename:S},O=c.getPath(g,C);c.updateAsset(S,M=>{let y=i.get(M);if(!y||y.inject!==O){let p=new Ot.ConcatSource(M,O);return i.set(M,{source:p,inject:O}),p}return y.source})}o()})})}};0&&(module.exports={BuilderDevToolsPlugin});
